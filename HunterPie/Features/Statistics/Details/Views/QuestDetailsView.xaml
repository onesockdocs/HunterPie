<UserControl x:Class="HunterPie.Features.Statistics.Details.Views.QuestDetailsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:buttons="clr-namespace:HunterPie.UI.Controls.Buttons;assembly=HunterPie.UI"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:image="clr-namespace:HunterPie.UI.Controls.Image;assembly=HunterPie.UI"
             xmlns:markup="clr-namespace:HunterPie.UI.Architecture.Markup;assembly=HunterPie.UI"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:HunterPie.Features.Statistics.Details.ViewModels"
             xmlns:viewer="clr-namespace:HunterPie.UI.Controls.Viewer;assembly=HunterPie.UI"
             xmlns:views="clr-namespace:HunterPie.Features.Statistics.Details.Views"
             d:DataContext="{d:DesignInstance viewModels:QuestDetailsViewModel}"
             d:DesignHeight="450"
             d:DesignWidth="800"
             x:ClassModifier="internal"
             mc:Ignorable="d">
	<UserControl.Resources>

		<Storyboard x:Key="SlideInAnimation">
			<ThicknessAnimation Storyboard.TargetProperty="Margin"
			                    From="-20,0,0,0"
			                    To="0,0,0,0"
			                    Duration="0:0:0.25">
				<ThicknessAnimation.EasingFunction>
					<QuadraticEase />
				</ThicknessAnimation.EasingFunction>
			</ThicknessAnimation>
			<DoubleAnimation Storyboard.TargetProperty="Opacity"
			                 From="0"
			                 To="1"
			                 Duration="0:0:0.3" />
		</Storyboard>

		<!--  Templates  -->
		<DataTemplate x:Key="HeaderTemplate"
		              DataType="{x:Type viewModels:MonsterDetailsViewModel}">
			<buttons:TabItem Title="{Binding Name, Mode=OneTime}"
			                 Margin="1"
			                 Padding="0"
			                 FontSize="13"
			                 Icon="{Binding Icon, Mode=OneTime}" />
		</DataTemplate>

		<DataTemplate x:Key="PanelTemplate"
		              DataType="{x:Type viewModels:MonsterDetailsViewModel}">
			<viewer:SmoothScrollViewer>
				<views:MonsterDetailsView DataContext="{Binding ., Mode=OneWay}"
				                          DataContextChanged="OnMonsterPanelViewModelChanged"
				                          Loaded="OnMonsterPanelLoaded" />
			</viewer:SmoothScrollViewer>
		</DataTemplate>


	</UserControl.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="40" />
			<RowDefinition Height="1*" />
		</Grid.RowDefinitions>

		<!--  Back Button  -->
		<buttons:Button Grid.Row="0"
		                Grid.Column="0"
		                BorderBrush="{DynamicResource Brushes.HunterPie.Border}"
		                BorderThickness="1"
		                Margin="5"
		                Padding="5"
		                HorizontalAlignment="Left"
		                VerticalAlignment="Top"
		                Background="{DynamicResource Brushes.HunterPie.Background.Primary}"
		                Click="OnBackButtonClick"
		                CornerRadius="5"
		                Cursor="Hand">
			<StackPanel Orientation="Horizontal">
				<image:Icon Width="15"
				            Height="15"
				            Margin="0,0,5,0"
				            Foreground="{DynamicResource Brushes.HunterPie.Foreground.Secondary}"
				            Image="{DynamicResource ICON_CHEVRON_LEFT}" />
				<TextBlock VerticalAlignment="Center"
				           Foreground="{DynamicResource Brushes.HunterPie.Foreground.Tertiary}"
				           Text="{markup:Localization '//Strings/Client/Generics/Generic[@Id=&quot;BACK_STRING&quot;]'}" />
			</StackPanel>
		</buttons:Button>

		<TabControl Grid.Row="1"
		            Grid.Column="0"
		            BorderThickness="0"
		            Margin="0"
		            Background="Transparent"
		            ContentTemplate="{StaticResource PanelTemplate}"
		            ItemTemplate="{StaticResource HeaderTemplate}"
		            ItemsSource="{Binding Monsters, Mode=OneTime}"
		            SelectedIndex="{Binding SelectedIndex, Mode=TwoWay}"
		            TabStripPlacement="Top" />
	</Grid>
</UserControl>
